{"remainingRequest":"/node/src/code-factory/node_modules/babel-loader/lib/index.js!/node/src/code-factory/node_modules/cache-loader/dist/cjs.js??ref--1-0!/node/src/code-factory/node_modules/vue-loader/lib/index.js??vue-loader-options!/node/src/code-factory/lsrkyyezwbvy/src/components/menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/node/src/code-factory/lsrkyyezwbvy/src/components/menu.vue","mtime":1649314960048},{"path":"/node/src/code-factory/lsrkyyezwbvy/babel.config.js","mtime":1649314958358},{"path":"/node/src/code-factory/node_modules/cache-loader/dist/cjs.js","mtime":1648824486287},{"path":"/node/src/code-factory/node_modules/babel-loader/lib/index.js","mtime":1648824338096},{"path":"/node/src/code-factory/node_modules/cache-loader/dist/cjs.js","mtime":1648824486287},{"path":"/node/src/code-factory/node_modules/vue-loader/lib/index.js","mtime":1648824494917}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1lbnVJdGVtIGZyb20gJy4vbWVudUl0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xNZW51JywKICBwcm9wczogewogICAgLy8g5qCR5pWw5o2uCiAgICBtZW51RGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8g5pu/5o2ia2V5CiAgICByZXBsYWNlRmllbGRzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgICAgaWQ6ICd1dWlkJywKICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgIGtleTogJ3V1aWQnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvLyDnvKnov5sKICAgIHJldHJhY3Q6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxNQogICAgfSwKICAgIC8vIOWxgue6pwogICAgdGllcjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICAvLyDlsZXlvIDlm77moIcKICAgIHVuZm9sZEljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8vIOaUtui1t+WbvuaghwogICAgcGFja1VwSWNvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgLy8g6I+c5Y2V5qC35byPCiAgICBtZW51SXRlbVN0eWxlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgLy8g6I+c5Y2V5pS257ypCiAgICBjb2xsYXBzZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDoj5zljZXlm77moIcKICAgIG1lbnVJY29uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5a2Q6I+c5Y2V5by55Ye6CiAgICBtZW51UG9wb3ZlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOWPquWxleW8gOW9k+WJjeWvvOiIqgogICAgc2hvd0N1cnJlbnRNZW51OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5bGV546w5b2i5byPCiAgICAvLyB2ZXJ0aWNhbCDlnoLnm7QKICAgIC8vIGhvcnppb250YWwg5rC05bmzCiAgICB2ZXJ0aWNhbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd2ZXJ0aWNhbCcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleHBhbmRLZXlzOiBbXSwKICAgICAgLy8g5a+86Iiq5pS257ypCiAgICAgIG1lbnVDb2xsYXBzZWQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBtZW51SXRlbTogbWVudUl0ZW0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDnvKnov5vot53nprsKICAgIHBhZGRpbmdMZWZ0OiBmdW5jdGlvbiBwYWRkaW5nTGVmdCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGllciAqIHRoaXMucmV0cmFjdCArICdweCc7CiAgICB9LAogICAgLy8g5piv5ZCmIOWeguebtOexu+WeiwogICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gaXNWZXJ0aWNhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMudmVydGljYWwgPT09ICd2ZXJ0aWNhbCc7CiAgICB9LAogICAgLy8g5Z6C55u05a+86Iiq5Y+z6L655by556qXCiAgICAvLyDpobbpg6jlr7zoiKrlupXpg6jlvLnnqpcKICAgIHBsYWNlbWVudDogZnVuY3Rpb24gcGxhY2VtZW50KCkgewogICAgICByZXR1cm4gdGhpcy5pc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3dpdGNoQ29sbGFwc2U6IGZ1bmN0aW9uIHN3aXRjaENvbGxhcHNlKCkgewogICAgICB0aGlzLm1lbnVDb2xsYXBzZWQgPSAhdGhpcy5tZW51Q29sbGFwc2VkOwogICAgfSwKCiAgICAvKiDlsZXlvIDmiJbogIXlhbPpl63liIbnu4QgKi8KICAgIGV4cGFuZENoYW5nZTogZnVuY3Rpb24gZXhwYW5kQ2hhbmdlKGRhdGEpIHsKICAgICAgLy8g5aaC5p6c5Y+q5bGV5byA5b2T5YmN5a+86Iiq55qE6K+dCiAgICAgIGlmICghdGhpcy5zaG93Q3VycmVudE1lbnUpIHsKICAgICAgICAvLyDlpJrkuKoKICAgICAgICBpZiAodGhpcy5leHBhbmRLZXlzLmluY2x1ZGVzKGRhdGEudXVpZCkpIHsKICAgICAgICAgIHRoaXMuZXhwYW5kS2V5cyA9IHRoaXMuZXhwYW5kS2V5cy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIHJldHVybiBpZCAhPT0gZGF0YS51dWlkOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXhwYW5kS2V5cy5wdXNoKGRhdGEudXVpZCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWxleW8gOeahOaVsOe7hOS4reWPquacieS4gOS4qgogICAgICAgIHRoaXMuZXhwYW5kS2V5cyA9IHRoaXMuZXhwYW5kS2V5cy5pbmNsdWRlcyhkYXRhLnV1aWQpID8gW10gOiBbZGF0YS51dWlkXTsKICAgICAgfQogICAgfSwKCiAgICAvKiDngrnlh7voj5zljZXmr4/kuIDpobkKICAgICAqIOWmguaenOacieWtkOmbhueahOivneWwseaYr+WxleW8gAogICAgICovCiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChkYXRhKSB7CiAgICAgIGlmIChkYXRhLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHRoaXMuZXhwYW5kQ2hhbmdlKGRhdGEpOwogICAgICB9IGVsc2UgdGhpcy4kZW1pdCgnc2VsZWN0JywgZGF0YSk7CiAgICB9LAogICAgc2VsZWN0Q2hhbmdlOiBmdW5jdGlvbiBzZWxlY3RDaGFuZ2UoZGF0YSkgewogICAgICB0aGlzLnNlbGVjdChkYXRhKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AAEA;AACAA,eADA;AAEAC;AACA;AACAC;AACAC,iBADA;AAEAC;AAAA;AAAA;AAFA,KAFA;AAMA;AACAC;AACAF,kBADA;AAEAC;AAAA;AACAE,8BADA;AAEAC,oBAFA;AAGAP,sBAHA;AAIAQ;AAJA;AAAA;AAFA,KAPA;AAgBAC;AACAN,kBADA;AAEAC;AAFA,KAhBA;AAoBA;AACAM;AACAP,kBADA;AAEAC;AAFA,KArBA;AAyBA;AACAO;AACAR,kBADA;AAEAC;AAFA,KA1BA;AA8BA;AACAQ;AACAT,kBADA;AAEAC;AAFA,KA/BA;AAmCA;AACAS;AACAV,kBADA;AAEAC;AAFA,KApCA;AAwCA;AACAU;AACAX,kBADA;AAEAC;AAAA;AAAA;AAFA,KAzCA;AA6CA;AACAW;AACAZ,mBADA;AAEAC;AAFA,KA9CA;AAkDA;AACAY;AACAb,mBADA;AAEAC;AAFA,KAnDA;AAuDA;AACAa;AACAd,mBADA;AAEAC;AAFA,KAxDA;AA4DA;AACAc;AACAf,mBADA;AAEAC;AAFA,KA7DA;AAiEA;AACA;AACA;AACAe;AACAhB,kBADA;AAEAC;AAFA;AApEA,GAFA;AA2EAgB,MA3EA,kBA2EA;AACA;AACAC,oBADA;AAEA;AACAC;AAHA;AAKA,GAjFA;AAkFAC;AAAAC;AAAA,GAlFA;AAmFAC;AACA;AACAC,eAFA,yBAEA;AACA;AACA,KAJA;AAKA;AACAC,cANA,wBAMA;AACA;AACA,KARA;AASA;AACA;AACAC,aAXA,uBAWA;AACA;AACA;AAbA,GAnFA;AAkGAC;AACAC,kBADA,4BACA;AACA;AACA,KAHA;;AAIA;AACAC,gBALA,wBAKAX,IALA,EAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA,KAlBA;;AAmBA;AACA;AACA;AACAY,UAtBA,kBAsBAZ,IAtBA,EAsBA;AACA;AACA;AACA,OAFA,MAEA;AACA,KA1BA;AA2BAa,gBA3BA,wBA2BAb,IA3BA,EA2BA;AACA;AACA;AA7BA;AAlGA","names":["name","props","menuData","type","default","replaceFields","children","id","key","value","retract","tier","unfoldIcon","packUpIcon","menuItemStyle","collapsed","menuIcon","menuPopover","showCurrentMenu","vertical","data","expandKeys","menuCollapsed","components","menuItem","computed","paddingLeft","isVertical","placement","methods","switchCollapse","expandChange","select","selectChange"],"sourceRoot":"src/components","sources":["menu.vue"],"sourcesContent":["<template>\n  <div class=\"menu\" :class=\"{ 'menu-pack': !menuCollapsed }\">\n    <!-- 树每一项 -->\n    <div\n      class=\"menu-item\"\n      v-for=\"item in menuData\"\n      :key=\"item[replaceFields.key]\"\n      :style=\"menuItemStyle\"\n    >\n      <!-- 子菜单弹出 -->\n      <div>\n        <a-popover\n          :placement=\"placement\"\n          trigger=\"click\"\n          :getPopupContainer=\"(trigger) => trigger.parentNode\"\n          destroyTooltipOnHide\n          v-if=\"menuPopover && item[replaceFields.children] && item[replaceFields.children].length\"\n        >\n          <template slot=\"content\">\n            <!-- 子数据渲染 -->\n            <div class=\"menu-item-children\">\n              <l-menu\n                :menuData=\"item[replaceFields.children]\"\n                :retract=\"retract\"\n                :tier=\"tier\"\n                :value=\"value\"\n                @select=\"selectChange\"\n                :unfoldIcon=\"unfoldIcon\"\n                :packUpIcon=\"packUpIcon\"\n                :menuIcon=\"menuIcon\"\n                :menuItemStyle=\"menuItemStyle\"\n                :menuPopover=\"menuPopover\"\n                :showCurrentMenu=\"showCurrentMenu\"\n                :replaceFields=\"replaceFields\"\n              />\n            </div>\n          </template>\n          <!-- 显示内容区 -->\n          <!--  -->\n          <menu-item\n            :item=\"item\"\n            :unfoldIcon=\"unfoldIcon\"\n            :packUpIcon=\"packUpIcon\"\n            @select=\"select\"\n            :tier=\"tier\"\n            :value=\"value\"\n            :replaceFields=\"replaceFields\"\n            :menuCollapsed=\"menuCollapsed\"\n            :menuIcon=\"menuIcon\"\n            :retract=\"retract\"\n            :isVertical=\"isVertical\"\n            :expandKeys=\"expandKeys\"\n          />\n        </a-popover>\n\n        <menu-item\n          v-else\n          :item=\"item\"\n          :unfoldIcon=\"unfoldIcon\"\n          :packUpIcon=\"packUpIcon\"\n          @select=\"select\"\n          :tier=\"tier\"\n          :value=\"value\"\n          :replaceFields=\"replaceFields\"\n          :menuCollapsed=\"menuCollapsed\"\n          :menuIcon=\"menuIcon\"\n          :retract=\"retract\"\n          :isVertical=\"isVertical\"\n          :expandKeys=\"expandKeys\"\n        />\n      </div>\n      <!-- 子数据渲染 -->\n      <div\n        class=\"menu-item-children\"\n        v-if=\"expandKeys.includes(item[replaceFields.key]) && !menuPopover\"\n      >\n        <l-menu\n          :menuData=\"item[replaceFields.children]\"\n          :retract=\"retract\"\n          :tier=\"tier + 1\"\n          :value=\"value\"\n          @select=\"selectChange\"\n          :unfoldIcon=\"unfoldIcon\"\n          :packUpIcon=\"packUpIcon\"\n          :menuIcon=\"menuIcon\"\n          :menuItemStyle=\"menuItemStyle\"\n          :menuPopover=\"menuPopover\"\n          :showCurrentMenu=\"showCurrentMenu\"\n          :replaceFields=\"replaceFields\"\n          :expandKeys=\"expandKeys\"\n        />\n      </div>\n    </div>\n\n    <!-- 菜单收缩图标 -->\n    <div class=\"menu-collapse\" v-if=\"collapsed\">\n      <svg class=\"icon\" aria-hidden=\"true\" @click=\"switchCollapse\">\n        <use href=\"#iconshiti2\" />\n      </svg>\n    </div>\n  </div>\n</template>\n<script>\nimport menuItem from './menuItem'\n\nexport default {\n  name: 'lMenu',\n  props: {\n    // 树数据\n    menuData: {\n      type: Array,\n      default: () => [],\n    },\n    // 替换key\n    replaceFields: {\n      type: Object,\n      default: () => ({\n        children: 'children',\n        id: 'uuid',\n        name: 'name',\n        key: 'uuid',\n      }),\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    // 缩进\n    retract: {\n      type: Number,\n      default: 15,\n    },\n    // 层级\n    tier: {\n      type: Number,\n      default: 1,\n    },\n    // 展开图标\n    unfoldIcon: {\n      type: String,\n      default: '',\n    },\n    // 收起图标\n    packUpIcon: {\n      type: String,\n      default: '',\n    },\n    // 菜单样式\n    menuItemStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n    // 菜单收缩\n    collapsed: {\n      type: Boolean,\n      default: false,\n    },\n    // 菜单图标\n    menuIcon: {\n      type: Boolean,\n      default: false,\n    },\n    // 子菜单弹出\n    menuPopover: {\n      type: Boolean,\n      default: false,\n    },\n    // 只展开当前导航\n    showCurrentMenu: {\n      type: Boolean,\n      default: false,\n    },\n    // 展现形式\n    // vertical 垂直\n    // horziontal 水平\n    vertical: {\n      type: String,\n      default: 'vertical',\n    },\n  },\n  data() {\n    return {\n      expandKeys: [],\n      // 导航收缩\n      menuCollapsed: true,\n    }\n  },\n  components: { menuItem },\n  computed: {\n    // 缩进距离\n    paddingLeft() {\n      return this.tier * this.retract + 'px'\n    },\n    // 是否 垂直类型\n    isVertical() {\n      return this.vertical === 'vertical'\n    },\n    // 垂直导航右边弹窗\n    // 顶部导航底部弹窗\n    placement() {\n      return this.isVertical ? 'right' : 'bottom'\n    },\n  },\n  methods: {\n    switchCollapse() {\n      this.menuCollapsed = !this.menuCollapsed\n    },\n    /* 展开或者关闭分组 */\n    expandChange(data) {\n      // 如果只展开当前导航的话\n      if (!this.showCurrentMenu) {\n        // 多个\n        if (this.expandKeys.includes(data.uuid)) {\n          this.expandKeys = this.expandKeys.filter((id) => id !== data.uuid)\n        } else {\n          this.expandKeys.push(data.uuid)\n        }\n      } else {\n        // 展开的数组中只有一个\n        this.expandKeys = this.expandKeys.includes(data.uuid) ? [] : [data.uuid]\n      }\n    },\n    /* 点击菜单每一项\n     * 如果有子集的话就是展开\n     */\n    select(data) {\n      if (data.children.length) {\n        this.expandChange(data)\n      } else this.$emit('select', data)\n    },\n    selectChange(data) {\n      this.select(data)\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\">\n.menu {\n  position: relative;\n  &-item {\n    flex-shrink: 0;\n\n    // 重置样式\n    /deep/ .ant-popover {\n      min-width: 200px;\n      .ant-popover-content {\n        border: none;\n      }\n      .ant-popover-inner {\n        background: var(--sub-menu-background);\n        .ant-popover-inner-content {\n          padding: 0;\n        }\n      }\n    }\n\n    &-children {\n      transition: all 1s;\n      background: var(--sub-menu-background);\n    }\n  }\n\n  &-pack {\n    width: 80px !important;\n  }\n  &-collapse {\n    width: 14px;\n    position: absolute;\n    bottom: 20px;\n    left: 20px;\n    cursor: pointer;\n    .icon {\n      width: 100%;\n      height: 14px;\n    }\n  }\n}\n</style>\n"]}]}
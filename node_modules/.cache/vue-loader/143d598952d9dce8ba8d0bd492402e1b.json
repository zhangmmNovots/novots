{"remainingRequest":"/node/src/code-factory/node_modules/vue-loader/lib/index.js??vue-loader-options!/node/src/code-factory/lsrkyyezwbvy/src/components/menu.vue?vue&type=style&index=0&id=a380d422&scoped=true&lang=less&","dependencies":[{"path":"/node/src/code-factory/lsrkyyezwbvy/src/components/menu.vue","mtime":1649314960048},{"path":"/node/src/code-factory/node_modules/css-loader/dist/cjs.js","mtime":1648824489044},{"path":"/node/src/code-factory/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1648824494945},{"path":"/node/src/code-factory/node_modules/postcss-loader/src/index.js","mtime":1648824491664},{"path":"/node/src/code-factory/node_modules/less-loader/dist/cjs.js","mtime":1648824480710},{"path":"/node/src/code-factory/node_modules/cache-loader/dist/cjs.js","mtime":1648824486287},{"path":"/node/src/code-factory/node_modules/vue-loader/lib/index.js","mtime":1648824494917}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1lbnUgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAmLWl0ZW0gewogICAgZmxleC1zaHJpbms6IDA7CgogICAgLy8g6YeN572u5qC35byPCiAgICAvZGVlcC8gLmFudC1wb3BvdmVyIHsKICAgICAgbWluLXdpZHRoOiAyMDBweDsKICAgICAgLmFudC1wb3BvdmVyLWNvbnRlbnQgewogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgfQogICAgICAuYW50LXBvcG92ZXItaW5uZXIgewogICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXN1Yi1tZW51LWJhY2tncm91bmQpOwogICAgICAgIC5hbnQtcG9wb3Zlci1pbm5lci1jb250ZW50IHsKICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgJi1jaGlsZHJlbiB7CiAgICAgIHRyYW5zaXRpb246IGFsbCAxczsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tc3ViLW1lbnUtYmFja2dyb3VuZCk7CiAgICB9CiAgfQoKICAmLXBhY2sgewogICAgd2lkdGg6IDgwcHggIWltcG9ydGFudDsKICB9CiAgJi1jb2xsYXBzZSB7CiAgICB3aWR0aDogMTRweDsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvdHRvbTogMjBweDsKICAgIGxlZnQ6IDIwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAuaWNvbiB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IDE0cHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"menu.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"menu\" :class=\"{ 'menu-pack': !menuCollapsed }\">\n    <!-- 树每一项 -->\n    <div\n      class=\"menu-item\"\n      v-for=\"item in menuData\"\n      :key=\"item[replaceFields.key]\"\n      :style=\"menuItemStyle\"\n    >\n      <!-- 子菜单弹出 -->\n      <div>\n        <a-popover\n          :placement=\"placement\"\n          trigger=\"click\"\n          :getPopupContainer=\"(trigger) => trigger.parentNode\"\n          destroyTooltipOnHide\n          v-if=\"menuPopover && item[replaceFields.children] && item[replaceFields.children].length\"\n        >\n          <template slot=\"content\">\n            <!-- 子数据渲染 -->\n            <div class=\"menu-item-children\">\n              <l-menu\n                :menuData=\"item[replaceFields.children]\"\n                :retract=\"retract\"\n                :tier=\"tier\"\n                :value=\"value\"\n                @select=\"selectChange\"\n                :unfoldIcon=\"unfoldIcon\"\n                :packUpIcon=\"packUpIcon\"\n                :menuIcon=\"menuIcon\"\n                :menuItemStyle=\"menuItemStyle\"\n                :menuPopover=\"menuPopover\"\n                :showCurrentMenu=\"showCurrentMenu\"\n                :replaceFields=\"replaceFields\"\n              />\n            </div>\n          </template>\n          <!-- 显示内容区 -->\n          <!--  -->\n          <menu-item\n            :item=\"item\"\n            :unfoldIcon=\"unfoldIcon\"\n            :packUpIcon=\"packUpIcon\"\n            @select=\"select\"\n            :tier=\"tier\"\n            :value=\"value\"\n            :replaceFields=\"replaceFields\"\n            :menuCollapsed=\"menuCollapsed\"\n            :menuIcon=\"menuIcon\"\n            :retract=\"retract\"\n            :isVertical=\"isVertical\"\n            :expandKeys=\"expandKeys\"\n          />\n        </a-popover>\n\n        <menu-item\n          v-else\n          :item=\"item\"\n          :unfoldIcon=\"unfoldIcon\"\n          :packUpIcon=\"packUpIcon\"\n          @select=\"select\"\n          :tier=\"tier\"\n          :value=\"value\"\n          :replaceFields=\"replaceFields\"\n          :menuCollapsed=\"menuCollapsed\"\n          :menuIcon=\"menuIcon\"\n          :retract=\"retract\"\n          :isVertical=\"isVertical\"\n          :expandKeys=\"expandKeys\"\n        />\n      </div>\n      <!-- 子数据渲染 -->\n      <div\n        class=\"menu-item-children\"\n        v-if=\"expandKeys.includes(item[replaceFields.key]) && !menuPopover\"\n      >\n        <l-menu\n          :menuData=\"item[replaceFields.children]\"\n          :retract=\"retract\"\n          :tier=\"tier + 1\"\n          :value=\"value\"\n          @select=\"selectChange\"\n          :unfoldIcon=\"unfoldIcon\"\n          :packUpIcon=\"packUpIcon\"\n          :menuIcon=\"menuIcon\"\n          :menuItemStyle=\"menuItemStyle\"\n          :menuPopover=\"menuPopover\"\n          :showCurrentMenu=\"showCurrentMenu\"\n          :replaceFields=\"replaceFields\"\n          :expandKeys=\"expandKeys\"\n        />\n      </div>\n    </div>\n\n    <!-- 菜单收缩图标 -->\n    <div class=\"menu-collapse\" v-if=\"collapsed\">\n      <svg class=\"icon\" aria-hidden=\"true\" @click=\"switchCollapse\">\n        <use href=\"#iconshiti2\" />\n      </svg>\n    </div>\n  </div>\n</template>\n<script>\nimport menuItem from './menuItem'\n\nexport default {\n  name: 'lMenu',\n  props: {\n    // 树数据\n    menuData: {\n      type: Array,\n      default: () => [],\n    },\n    // 替换key\n    replaceFields: {\n      type: Object,\n      default: () => ({\n        children: 'children',\n        id: 'uuid',\n        name: 'name',\n        key: 'uuid',\n      }),\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    // 缩进\n    retract: {\n      type: Number,\n      default: 15,\n    },\n    // 层级\n    tier: {\n      type: Number,\n      default: 1,\n    },\n    // 展开图标\n    unfoldIcon: {\n      type: String,\n      default: '',\n    },\n    // 收起图标\n    packUpIcon: {\n      type: String,\n      default: '',\n    },\n    // 菜单样式\n    menuItemStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n    // 菜单收缩\n    collapsed: {\n      type: Boolean,\n      default: false,\n    },\n    // 菜单图标\n    menuIcon: {\n      type: Boolean,\n      default: false,\n    },\n    // 子菜单弹出\n    menuPopover: {\n      type: Boolean,\n      default: false,\n    },\n    // 只展开当前导航\n    showCurrentMenu: {\n      type: Boolean,\n      default: false,\n    },\n    // 展现形式\n    // vertical 垂直\n    // horziontal 水平\n    vertical: {\n      type: String,\n      default: 'vertical',\n    },\n  },\n  data() {\n    return {\n      expandKeys: [],\n      // 导航收缩\n      menuCollapsed: true,\n    }\n  },\n  components: { menuItem },\n  computed: {\n    // 缩进距离\n    paddingLeft() {\n      return this.tier * this.retract + 'px'\n    },\n    // 是否 垂直类型\n    isVertical() {\n      return this.vertical === 'vertical'\n    },\n    // 垂直导航右边弹窗\n    // 顶部导航底部弹窗\n    placement() {\n      return this.isVertical ? 'right' : 'bottom'\n    },\n  },\n  methods: {\n    switchCollapse() {\n      this.menuCollapsed = !this.menuCollapsed\n    },\n    /* 展开或者关闭分组 */\n    expandChange(data) {\n      // 如果只展开当前导航的话\n      if (!this.showCurrentMenu) {\n        // 多个\n        if (this.expandKeys.includes(data.uuid)) {\n          this.expandKeys = this.expandKeys.filter((id) => id !== data.uuid)\n        } else {\n          this.expandKeys.push(data.uuid)\n        }\n      } else {\n        // 展开的数组中只有一个\n        this.expandKeys = this.expandKeys.includes(data.uuid) ? [] : [data.uuid]\n      }\n    },\n    /* 点击菜单每一项\n     * 如果有子集的话就是展开\n     */\n    select(data) {\n      if (data.children.length) {\n        this.expandChange(data)\n      } else this.$emit('select', data)\n    },\n    selectChange(data) {\n      this.select(data)\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\">\n.menu {\n  position: relative;\n  &-item {\n    flex-shrink: 0;\n\n    // 重置样式\n    /deep/ .ant-popover {\n      min-width: 200px;\n      .ant-popover-content {\n        border: none;\n      }\n      .ant-popover-inner {\n        background: var(--sub-menu-background);\n        .ant-popover-inner-content {\n          padding: 0;\n        }\n      }\n    }\n\n    &-children {\n      transition: all 1s;\n      background: var(--sub-menu-background);\n    }\n  }\n\n  &-pack {\n    width: 80px !important;\n  }\n  &-collapse {\n    width: 14px;\n    position: absolute;\n    bottom: 20px;\n    left: 20px;\n    cursor: pointer;\n    .icon {\n      width: 100%;\n      height: 14px;\n    }\n  }\n}\n</style>\n"]}]}